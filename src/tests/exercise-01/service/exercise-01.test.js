import { jest } from '@jest/globals';
import run from '../../../exercise-01/main';

describe('Should successfully test the full sequence of exercise-01 test', () => {
    it('Should test run', () => {
        const consoleSpy = jest.spyOn(console, 'log');

        run();

        expect(consoleSpy).toHaveBeenCalledTimes(100);

        const expectedSequence = {
            1: 1,
            2: 2,
            3: 'Visual',
            4: 4,
            5: 'Nuts',
            6: 'Visual',
            7: 7,
            8: 8,
            9: 'Visual',
            10: 'Nuts',
            11: 11,
            12: 'Visual',
            13: 13,
            14: 14,
            15: 'VisualNuts',
            16: 16,
            17: 17,
            18: 'Visual',
            19: 19,
            20: 'Nuts',
            21: 'Visual',
            22: 22,
            23: 23,
            24: 'Visual',
            25: 'Nuts',
            26: 26,
            27: 'Visual',
            28: 28,
            29: 29,
            30: 'VisualNuts',
            31: 31,
            32: 32,
            33: 'Visual',
            34: 34,
            35: 'Nuts',
            36: 'Visual',
            37: 37,
            38: 38,
            39: 'Visual',
            40: 'Nuts',
            41: 41,
            42: 'Visual',
            43: 43,
            44: 44,
            45: 'VisualNuts',
            46: 46,
            47: 47,
            48: 'Visual',
            49: 49,
            50: 'Nuts',
            51: 'Visual',
            52: 52,
            53: 53,
            54: 'Visual',
            55: 'Nuts',
            56: 56,
            57: 'Visual',
            58: 58,
            59: 59,
            60: 'VisualNuts',
            61: 61,
            62: 62,
            63: 'Visual',
            64: 64,
            65: 'Nuts',
            66: 'Visual',
            67: 67,
            68: 68,
            69: 'Visual',
            70: 'Nuts',
            71: 71,
            72: 'Visual',
            73: 73,
            74: 74,
            75: 'VisualNuts',
            76: 76,
            77: 77,
            78: 'Visual',
            79: 79,
            80: 'Nuts',
            81: 'Visual',
            82: 82,
            83: 83,
            84: 'Visual',
            85: 'Nuts',
            86: 86,
            87: 'Visual',
            88: 88,
            89: 89,
            90: 'VisualNuts',
            91: 91,
            92: 92,
            93: 'Visual',
            94: 94,
            95: 'Nuts',
            96: 'Visual',
            97: 97,
            98: 98,
            99: 'Visual',
            100: 'Nuts',
        }

        Object.keys(expectedSequence).map(key => {
            expect(consoleSpy).nthCalledWith(Number(key), expectedSequence[key])
        })
    })
})